<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Color Prediction</title>
    <style>
        body { font-family: Arial, sans-serif; }
        .header { background-color: #007bff; color: white; padding: 10px; text-align: center; }
        .content { padding: 20px; text-align: center; }
        .button { padding: 10px 20px; margin: 10px; border: none; border-radius: 5px; cursor: pointer; }
        .button.green.active { background-color: #4caf50; }
        .button.red.active { background-color: #f44336; }
        .green { background-color: #28a745; }
        .red { background-color: #dc3545; }
        .table { width: 100%; margin-top: 20px; }
        .table th, .table td { text-align: left; padding: 10px; }
        .table th { background-color: #007bff; color: white; }
        .table tr:nth-child(even) { background-color: #f2f2f2; }
    </style>
</head>
<body>
    <div class="header">Available balance: Â£4.40 <button onclick="recharge()">Recharge</button> <button onclick="readRule()">Read Rule</button></div>
    <div class="content">
      <h2>Period 20240511329</h2>
      <p>Count Down <span id="timer">00:30</span></p>
      <button id="greenButton" class="button green" onclick="join('Green')">Join Green</button>
      <button id="redButton" class="button red" onclick="join('Red')">Join Red</button>
      <p id="userSelection"></p>
      <p id="result"></p>
      <table class="table">
        <tr>
          <th>Period</th>
          <th>Price</th>
          <th>Number</th>
          <th>Result</th>
        </tr>
        <!-- Table rows will be generated by JavaScript -->
      </table>
    </div>

<script>
// JavaScript code to handle the logic
function recharge() {
  // Code to handle recharge
}

function readRule() {
  // Code to display rules
}

function join(color) {
  if (!countdownInterval) {
    clearInterval(countdownInterval);
    clearInterval(userSelectInterval);
    userSelection.textContent = `Your selection: ${color}`;
    document.getElementById('greenButton').classList.remove('active');
    document.getElementById('redButton').classList.remove('active');
    document.getElementById(color.toLowerCase() + 'Button').classList.add('active');
    setTimeout(() => {
      result.textContent = `Prediction: ${getRandomColor()}`;
      countdownTime = 30;
      updateCountdown();
      countdownInterval = setInterval(updateCountdown, 1000);
      userSelection.textContent = '';
      result.textContent = '';
    }, 10000);
  }
}

// Function to generate a random color
function getRandomColor() {
    return Math.random() < 0.5 ? 'Red' : 'Green';
}

// Countdown timer logic
var countdownElement = document.getElementById('timer');
var countdownTime = 30; // in seconds
var countdownInterval = setInterval(updateCountdown, 1000);
var userSelection = document.getElementById('userSelection');
var result = document.getElementById('result');
var userSelectInterval;

function updateCountdown() {
  countdownTime--;
  if (countdownTime >= 0) {
    countdownElement.textContent = countdownTime.toString().padStart(2, '0');
  }
  if (countdownTime === 20) {
    userSelectInterval = setInterval(() => {
      userSelection.textContent = 'Select your color now!';
    }, 1000);
  }
  if (countdownTime === 10) {
    clearInterval(userSelectInterval);
    userSelection.textContent = 'You have 10 seconds to choose';
  }
  if (countdownTime === 0) {
    clearInterval(countdownInterval);
    countdownInterval = null;
    userSelection.textContent = 'Select your color now!';
    setTimeout(() => {
      clearInterval(userSelectInterval);
      userSelection.textContent = '';
      var prediction = getRandomColor();
      if (userSelection.textContent !== '') {
        if (userSelection.textContent.includes(prediction)) {
          result.textContent = 'Your choice is correct!';
        } else {
          result.textContent = 'Your choice is wrong!';
        }
      } else {
        result.textContent = 'You did not select a color!';
      }
      countdownTime = 30;
      updateCountdown();
      countdownInterval = setInterval(updateCountdown, 1000);
    }, 10000);
  }
}

// Example data for the table
var tableData = [
  { period: '20240511328', price: '37059', number: '9', result: 'green' },
  { period: '20240511327', price: '35113', number: '3', result: 'red' },
  // Add more data here
];

// Function to generate table rows
function generateTableRows(data) {
  var table = document.querySelector('.table');
  data.forEach(function(row) {
    var tr = document.createElement('tr');
    tr.innerHTML = '<td>' + row.period + '</td><td>' + row.price + '</td><td>' + row.number + '</td><td>' + row.result + '</td>';
    table.appendChild(tr);
  });
}

generateTableRows(tableData);
</script>
</body>
</html>
